<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Find A Friend!</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="page-header">
                    <h1>
					Friend Finder <small>Survey Questions</small>
				</h1>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <form role="form">
                    <div class="form-group">
                        <h2>ABOUT YOU</h2>
                        <label for="Name1">
                            Name (Required)
                        </label>
                        <input type="name" class="form-control" id="name1" />
                    </div>
                    <div class="form-group">
                        <label for="photoImage1">
                            Link to Photo Image
                        </label>
                        <input type="photoimage" class="form-control" id="photoImage1" />
                    </div>
                </form>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-md-12">
                <h3>
				Question 1
			</h3>
                <p>
                    Your mind is always buzzing with unexplored ideas and plans.
                </p>
                <p>
                    <form id="question1">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 2
			</h3>
                <p>
                    Your mind is always buzzing with unexplored ideas and plans.
                </p>
                <p>
                    <form id="question2">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 3
			</h3>
                <p>
                    Your mind is always buzzing with unexplored ideas and plans.
                </p>
                <p>
                    <form id="question3">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 4
			</h3>
                <p>
                    You often do things out of sheer curiosity.
                </p>
                <p>
                    <form id="question4">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 5
			</h3>
                <p>
                    People often upset you.
                </p>
                <p>
                    <form id="question5">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 6
			</h3>
                <p>
                    It's often difficult for you to relate to other people's emotions.
                </p>
                <p>
                    <form id="question6">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 7
			</h3>
                <p>
                    In a debate, truth should be more important than people's feelings.
                </p>
                <p>
                    <form id="question7">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 8
			</h3>
                <p>
                    You often get carried away by fantasies and ideas.
                </p>
                <p>
                    <form id="question8">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 9
			</h3>
                <p>
                    You believe that everyone's views should be respected regardless of whether they are right or wrong.
                </p>
                <p>
                    <form id="question9">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <h3>
				Question 10
			</h3>
                <p>
                    You feel more energetic after spending time with a group of people.
                </p>
                <p>
                    <form id="question10">
                        <span class="disagree">Strongly Disagree</span>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="1">1</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="2">2</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="3">3</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="4">4</label>
                        <label class="radio-inline">
                            <input type="radio" name="optradio" value="5">5</label>
                        <span class="agree">Strongly Agree</span>
                    </form>
                </p>
            </div>
            <div class="col-md-12">
                <a id="modal-445009 " href="#modal-container-445009" role="button" class="btn btn-primary btn-large submitSurvey" data-toggle="modal">SUBMIT</a>
                <div class="modal fade" id="modal-container-445009" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    ×
                                </button>
                                <h2 class="modal-title" id="myModalLabel">
								BEST MATCH
								</h2>
                            </div>
                            <div class="modal-body">
                                <p id="matchName"></p>
                                <img id="matchImage" src="" alt="photo" style="width:300px;height:300px;">
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
var usersArray = []



$(".submitSurvey").on("click", function(event) {


    event.preventDefault();

    var answer1 = $("#question1 input[type='radio']:checked").val();
    var answer2 = $("#question2 input[type='radio']:checked").val();
    var answer3 = $("#question3 input[type='radio']:checked").val();
    var answer4 = $("#question3 input[type='radio']:checked").val();
    var answer5 = $("#question3 input[type='radio']:checked").val();
    var answer6 = $("#question3 input[type='radio']:checked").val();
    var answer7 = $("#question3 input[type='radio']:checked").val();
    var answer8 = $("#question3 input[type='radio']:checked").val();
    var answer9 = $("#question3 input[type='radio']:checked").val();
    var answer10 = $("#question3 input[type='radio']:checked").val();

    var newUser = {
        name: $("#name1").val().trim(),
        photo: $("#photoImage1").val().trim(),
        score: [parseFloat(answer1), parseFloat(answer2), parseFloat(answer3), parseFloat(answer4), parseFloat(answer5),
            parseFloat(answer6), parseFloat(answer7), parseFloat(answer8), parseFloat(answer9), parseFloat(answer10)
        ]
    };
    console.log(newUser);

    var currentURL = window.location.origin;

    runFriendFinder();

    $.post(currentURL + "/api/friends", newUser).done(function(data) {
        console.log("added data");

    });
});



function runFriendFinder() {
    var currentURL = window.location.origin;

    $.ajax({ url: currentURL + "/api/friends", method: "GET" })
        .done(function(friends) {
            console.log(currentURL);
            console.log(friends);

            for (var i = 0; i < friends.length; i++) {
                friends[i];
            }
            var chosenFriend = friends[Math.floor(Math.random() * friends.length)];

            $("#matchName").html(chosenFriend.name);
            $("#matchImage").attr("src", chosenFriend.photo);
        });
}
</script>

</html>